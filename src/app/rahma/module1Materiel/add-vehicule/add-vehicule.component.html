<app-back-header></app-back-header>
<body class="bg-Dark">
  <div class="container mt-5">
    <div class="card shadow-lg p-4">
      <h2 class="text-center mb-4">Add Vehicle</h2>
      <form [formGroup]="vehiculeForm" (ngSubmit)="onSubmit()">
        
        <div class="row">
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label class="form-label"><i class="fas fa-car"></i> Vehicle Name</label>
              <input type="text" class="form-control" formControlName="nomVehicule" placeholder="Enter vehicle name" required>
              <div class="text-danger" *ngIf="vehiculeForm.get('nomVehicule')?.invalid && vehiculeForm.get('nomVehicule')?.touched">
                <small *ngIf="vehiculeForm.get('nomVehicule')?.hasError('required')">Vehicle name is required.</small>
                <small *ngIf="vehiculeForm.get('nomVehicule')?.hasError('minlength')">Minimum 3 characters required.</small>
                <small *ngIf="vehiculeForm.get('nomVehicule')?.hasError('maxlength')">Maximum 50 characters allowed.</small>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label class="form-label"><i class="fas fa-user"></i> Driver ID</label>
              <input type="number" class="form-control" formControlName="idChauffeur" placeholder="Enter driver ID" required>
              <div class="text-danger" *ngIf="vehiculeForm.get('idChauffeur')?.invalid && vehiculeForm.get('idChauffeur')?.touched">
                <small *ngIf="vehiculeForm.get('idChauffeur')?.hasError('required')">Driver ID is required.</small>
                <small *ngIf="vehiculeForm.get('idChauffeur')?.hasError('pattern')">Please enter a valid number.</small>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label class="form-label"><i class="fas fa-industry"></i> Brand</label>
              <input type="text" class="form-control" formControlName="marque" placeholder="e.g., Toyota" required>
              <div class="text-danger" *ngIf="vehiculeForm.get('marque')?.invalid && vehiculeForm.get('marque')?.touched">
                <small *ngIf="vehiculeForm.get('marque')?.hasError('required')">Brand is required.</small>
                <small *ngIf="vehiculeForm.get('marque')?.hasError('minlength')">Minimum 2 characters required.</small>
                <small *ngIf="vehiculeForm.get('marque')?.hasError('maxlength')">Maximum 30 characters allowed.</small>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label class="form-label"><i class="fas fa-car-side"></i> Model</label>
              <input type="text" class="form-control" formControlName="modele" placeholder="e.g., Corolla" required>
              <div class="text-danger" *ngIf="vehiculeForm.get('modele')?.invalid && vehiculeForm.get('modele')?.touched">
                <small *ngIf="vehiculeForm.get('modele')?.hasError('required')">Model is required.</small>
                <small *ngIf="vehiculeForm.get('modele')?.hasError('minlength')">Minimum 2 characters required.</small>
                <small *ngIf="vehiculeForm.get('modele')?.hasError('maxlength')">Maximum 30 characters allowed.</small>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label class="form-label"><i class="fas fa-id-card"></i> License Plate</label>
              <input type="text" class="form-control" formControlName="immatriculation" placeholder="e.g., 123-ABC" required>
              <div class="text-danger" *ngIf="vehiculeForm.get('immatriculation')?.invalid && vehiculeForm.get('immatriculation')?.touched">
                <small *ngIf="vehiculeForm.get('immatriculation')?.hasError('required')">License plate is required.</small>
                <small *ngIf="vehiculeForm.get('immatriculation')?.hasError('pattern')">Invalid format.</small>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label class="form-label"><i class="fas fa-truck"></i> Vehicle Type</label>
              <select class="form-select" formControlName="typeVehicule" required>
                <option *ngFor="let type of typesVehicule" [value]="type">{{ type }}</option>
              </select>
              <div class="text-danger" *ngIf="vehiculeForm.get('typeVehicule')?.invalid && vehiculeForm.get('typeVehicule')?.touched">
                <small *ngIf="vehiculeForm.get('typeVehicule')?.hasError('required')">Vehicle type is required.</small>
              </div>
            </div>
          </div>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" formControlName="disponible">
          <label class="form-check-label"><i class="fas fa-check-circle"></i> Available</label>
        </div>

        <div class="text-center mt-4">
          <button type="submit" class="btn btn-success btn-lg" [disabled]="vehiculeForm.invalid">
            <i class="fas fa-plus-circle"></i> Add Vehicle
          </button>
          <button type="button" class="btn btn-secondary btn-lg ms-3" (click)="onCancel()">
            <i class="fas fa-times"></i> Cancel
          </button>
        </div>

      </form>
    </div>
  </div>
</body>
